[gd_scene load_steps=20 format=2]

[ext_resource path="res://SCENES/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://SCENES/flashlight_meter.tscn" type="PackedScene" id=2]
[ext_resource path="res://SCRIPTS/test.gd" type="Script" id=3]
[ext_resource path="res://ASSETS/Art/light.png" type="Texture" id=4]
[ext_resource path="res://SCRIPTS/flashlight_meter.gd" type="Script" id=5]
[ext_resource path="res://SCENES/WhiteGhost.tscn" type="PackedScene" id=6]
[ext_resource path="res://SCENES/HealthPotion.tscn" type="PackedScene" id=7]
[ext_resource path="res://TSCN Files/Bedroom.tscn" type="PackedScene" id=8]
[ext_resource path="res://SCRIPTS/princess.gd" type="Script" id=9]

[sub_resource type="Curve2D" id=1]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 89.1335, 104.155, 0, 0, 0, 0, 225.552, 108.551, 0, 0, 0, 0, 535.87, 107.361, 0, 0, 0, 0, 532.347, 212.743, 0, 0, 0, 0, 91.3495, 209.419, 0, 0, 0, 0, 89.1335, 104.155 )
}

[sub_resource type="OccluderPolygon2D" id=2]
polygon = PoolVector2Array( -3.5033, 4.77617, -2.34262, -7.21744, 2.68695, -6.44366, 5.39517, 4.38928 )

[sub_resource type="OccluderPolygon2D" id=3]
closed = false
polygon = PoolVector2Array( -47.5897, 30.7076, -48.9863, 7.66241, -27.478, -22.4612, 25.5957, -21.0645, 43.1943, -0.01931, 43.1943, 36.2943 )

[sub_resource type="OccluderPolygon2D" id=4]
polygon = PoolVector2Array( -117.934, -25.2971, -117.199, 120.251, -488.42, 120.251, -488.42, -26.0322 )

[sub_resource type="OccluderPolygon2D" id=5]
polygon = PoolVector2Array( 113.037, 101.43, 123.87, 102.204, 124.643, 121.549, 151.726, 124.644, 151.726, 199.701, 130.06, 211.307, 123.87, 227.557, 115.358, 227.557, 114.584, 213.629, 84.4067, 205.891, 85.1805, 129.286, 109.168, 120.775 )

[sub_resource type="OccluderPolygon2D" id=6]
closed = false
cull_mode = 1
polygon = PoolVector2Array( -206.535, 264.698, -186.417, 238.39, -139.99, 239.937, -122.193, 250.77 )

[sub_resource type="OccluderPolygon2D" id=7]
closed = false
cull_mode = 2
polygon = PoolVector2Array( -204.988, 273.984, -194.155, 284.817, -133.026, 285.59, -116.777, 270.889 )

[sub_resource type="OccluderPolygon2D" id=8]
closed = false
cull_mode = 1
polygon = PoolVector2Array( -92.7894, 285.59, -55.6478, 282.495, -52.5527, 239.163, -41.7197, 240.711, -40.1722, 301.066 )

[sub_resource type="OccluderPolygon2D" id=9]
closed = false
cull_mode = 2
polygon = PoolVector2Array( -97.4321, 262.377, -60.2905, 263.924, -54.874, 237.616, -42.4935, 240.711, -40.946, 303.387 )

[sub_resource type="RectangleShape2D" id=10]
extents = Vector2( 39.0001, 67 )

[node name="Node2D" type="Node2D"]
modulate = Color( 0.415686, 0.415686, 0.415686, 1 )
script = ExtResource( 3 )

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
show_behind_parent = true
margin_right = 960.0
margin_bottom = 540.0
color = Color( 0.231373, 0.0901961, 0.0901961, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 433.438, 387.43 )
scale = Vector2( 0.5, 0.5 )

[node name="CanvasLayer" parent="." instance=ExtResource( 2 )]
offset = Vector2( 5, 5 )
scale = Vector2( 2, 2 )
transform = Transform2D( 2, 0, 0, 2, 5, 5 )
follow_viewport_enable = true
script = ExtResource( 5 )

[node name="Path2D" type="Path2D" parent="."]
position = Vector2( 28.5001, 116.85 )
curve = SubResource( 1 )

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2( 89.1335, 104.155 )
rotation = 0.0200484
rotate = false

[node name="WhiteGhost" parent="Path2D/PathFollow2D" instance=ExtResource( 6 )]
position = Vector2( 0.612042, -3.33053 )
scale = Vector2( 1.5, 1.5 )
hp = 250

[node name="HealthPotion" parent="." instance=ExtResource( 7 )]
position = Vector2( 687.749, 280.117 )
scale = Vector2( 2, 2 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="HealthPotion"]
occluder = SubResource( 2 )

[node name="Bedroom" parent="." instance=ExtResource( 8 )]
show_behind_parent = true
position = Vector2( -223.994, -118.436 )
scale = Vector2( 2.91809, 2.13665 )

[node name="window" type="Light2D" parent="."]
position = Vector2( 778.948, 88.4212 )
texture = ExtResource( 4 )
shadow_enabled = true
shadow_gradient_length = 10.0
shadow_filter = 5
shadow_filter_smooth = 5.0

[node name="curtain" type="LightOccluder2D" parent="window"]
position = Vector2( 3.09332, 4.98795 )
occluder = SubResource( 3 )

[node name="bookshelf" type="LightOccluder2D" parent="window"]
occluder = SubResource( 4 )

[node name="dresses" type="LightOccluder2D" parent="window"]
occluder = SubResource( 5 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="window"]
occluder = SubResource( 6 )

[node name="LightOccluder2D2" type="LightOccluder2D" parent="window"]
occluder = SubResource( 7 )

[node name="LightOccluder2D3" type="LightOccluder2D" parent="window"]
occluder = SubResource( 8 )

[node name="LightOccluder2D4" type="LightOccluder2D" parent="window"]
occluder = SubResource( 9 )

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 7
script = ExtResource( 9 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2( 898.004, 469.002 )
shape = SubResource( 10 )
[connection signal="health_changed" from="Player" to="CanvasLayer" method="_on_Player_health_changed"]
